---
phase: 02-content-display
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - content.config.ts
  - content/blog/first-post.md
autonomous: true

must_haves:
  truths:
    - "Blog posts have defined frontmatter schema (title, date, description, image)"
    - "At least one sample post exists for testing"
    - "Sample post renders without errors in dev server"
  artifacts:
    - path: "content.config.ts"
      provides: "Blog collection schema with frontmatter validation"
      contains: "z.object"
    - path: "content/blog/first-post.md"
      provides: "Sample blog post for testing"
      contains: "title:"
  key_links:
    - from: "content.config.ts"
      to: "content/blog/*.md"
      via: "Zod schema validation"
      pattern: "defineCollection.*schema"
---

<objective>
Define blog post frontmatter schema and create a sample post for testing.

Purpose: Establishes the content structure before building UI, ensuring posts have consistent metadata (title, date, description, optional image) that the index and post pages will consume.

Output: Updated content.config.ts with Zod schema, one sample blog post with all frontmatter fields.
</objective>

<execution_context>
@/Users/slip/.claude/get-shit-done/workflows/execute-plan.md
@/Users/slip/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation/01-01-SUMMARY.md

@content.config.ts
@nuxt.config.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Define blog frontmatter schema in content.config.ts</name>
  <files>content.config.ts</files>
  <action>
Update content.config.ts to add a Zod schema for blog post frontmatter.

The schema should define:
- title: z.string() - Required post title
- date: z.string() - Required ISO date string for chronological ordering
- description: z.string() - Required short description for index page
- image: z.string().optional() - Optional cover/hero image path
- category: z.string().optional() - Optional category (needed for Phase 3)

Use the existing `z` import from '@nuxt/content'. Update the blog collection definition to include the schema property.

Pattern to follow (from Nuxt Content v3 docs):
```typescript
defineCollection({
  type: 'page',
  source: 'blog/**',
  schema: z.object({
    title: z.string(),
    date: z.string(),
    description: z.string(),
    image: z.string().optional(),
    category: z.string().optional()
  })
})
```
  </action>
  <verify>
Run `bun run dev` and check that Nuxt Content processes the schema without errors.
Check terminal output - no TypeScript errors or schema validation errors should appear.
  </verify>
  <done>
content.config.ts exports blog collection with Zod schema defining title, date, description, image (optional), category (optional).
  </done>
</task>

<task type="auto">
  <name>Task 2: Create sample blog post with frontmatter</name>
  <files>content/blog/first-post.md</files>
  <action>
Create a sample blog post at content/blog/first-post.md.

Remove the .gitkeep file from content/blog/ if it exists (no longer needed).

The post should include:
1. Full frontmatter with all required fields:
   - title: "Welcome to the Blog"
   - date: Today's date in ISO format (YYYY-MM-DD)
   - description: A short description (1-2 sentences)
   - image: Leave empty or omit for now (no test image yet)

2. Markdown body content:
   - 2-3 paragraphs of photography-themed placeholder content
   - One heading (##)
   - One image placeholder using markdown syntax: `![Alt text](./images/example.jpg)` to test image rendering (will show as broken for now, which is fine)

File naming convention: Use kebab-case (first-post.md). The filename becomes the URL slug.
  </action>
  <verify>
1. Check the file exists: `ls content/blog/first-post.md`
2. Run `bun run dev`
3. Visit http://localhost:3000/blog - should no longer show "Posts coming soon" (may show partial rendering)
4. Check terminal - no "parsing failed" errors for the new markdown file
  </verify>
  <done>
content/blog/first-post.md exists with valid frontmatter and markdown body. Dev server processes it without parsing errors.
  </done>
</task>

</tasks>

<verification>
1. `bun run dev` starts without errors
2. content.config.ts contains Zod schema with required fields
3. content/blog/first-post.md exists with valid frontmatter
4. queryContent('blog').find() returns the sample post (test in Vue devtools or console)
</verification>

<success_criteria>
- Blog collection has Zod schema validating title, date, description
- Sample post exists with all required frontmatter fields
- Nuxt Content parses the post without errors
- Foundation ready for Plan 02 to build UI
</success_criteria>

<output>
After completion, create `.planning/phases/02-content-display/02-01-SUMMARY.md`
</output>
