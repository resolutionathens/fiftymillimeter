---
phase: 01-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - nuxt.config.ts
  - content/blog/.gitkeep
  - app/pages/blog/index.vue
autonomous: true

must_haves:
  truths:
    - "Nuxt Content module is installed and configured"
    - "Blog route at /blog returns 200 status"
    - "Development server starts without errors after integration"
  artifacts:
    - path: "nuxt.config.ts"
      provides: "Nuxt Content module configuration"
      contains: "@nuxt/content"
    - path: "content/blog/.gitkeep"
      provides: "Content directory structure for blog posts"
    - path: "app/pages/blog/index.vue"
      provides: "Blog index page route"
      min_lines: 10
  key_links:
    - from: "nuxt.config.ts"
      to: "@nuxt/content"
      via: "modules array"
      pattern: "modules.*@nuxt/content"
    - from: "app/pages/blog/index.vue"
      to: "content/blog"
      via: "Nuxt Content auto-discovery"
---

<objective>
Install and configure Nuxt Content module, then create the blog route structure.

Purpose: Establish the foundation for markdown-based blog content within the existing Nuxt 4 photography portfolio.

Output: Working blog route at `/blog` with Nuxt Content configured and content directory ready for posts.
</objective>

<execution_context>
@/Users/slip/.claude/get-shit-done/workflows/execute-plan.md
@/Users/slip/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/codebase/STACK.md
@.planning/codebase/STRUCTURE.md
@nuxt.config.ts
@package.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install and configure Nuxt Content module</name>
  <files>package.json, nuxt.config.ts</files>
  <action>
1. Install @nuxt/content package using bun:
   `bun add @nuxt/content`

2. Add @nuxt/content to the modules array in nuxt.config.ts. Insert it after the existing modules. The modules array currently contains:
   `['nitro-cloudflare-dev', '@nuxt/eslint', '@nuxt/image', '@nuxt/scripts', '@nuxt/ui', '@nuxt/fonts']`

3. Add content configuration block for Nuxt Content with settings appropriate for Cloudflare Workers:
   ```typescript
   content: {
     // Content sources from content/ directory (default)
     // Markdown rendering enabled by default
   }
   ```
   Note: Nuxt Content v3 works with Cloudflare Workers out of the box. No special database configuration needed for static content.

Do NOT add any complex configuration - the defaults work for this use case. Nuxt Content auto-discovers content from the `content/` directory.
  </action>
  <verify>
Run `bun run dev` and confirm:
1. No module loading errors in console
2. Server starts successfully on http://localhost:3000
3. Check `package.json` includes `@nuxt/content` dependency
  </verify>
  <done>
- @nuxt/content appears in package.json dependencies
- @nuxt/content is in nuxt.config.ts modules array
- Development server starts without Nuxt Content-related errors
  </done>
</task>

<task type="auto">
  <name>Task 2: Create blog content directory and index page</name>
  <files>content/blog/.gitkeep, app/pages/blog/index.vue</files>
  <action>
1. Create the content directory structure:
   - Create `content/` directory at project root (Nuxt Content default source)
   - Create `content/blog/` subdirectory for blog posts
   - Add `.gitkeep` file in `content/blog/` so the empty directory is tracked

2. Create the blog index page at `app/pages/blog/index.vue`:
   - Use Vue 3 composition API with `<script setup lang="ts">`
   - Import and use ContentList component from Nuxt Content to query posts (will be empty initially)
   - Template should display:
     - Page title "Blog"
     - A message like "Posts coming soon" when no posts exist (use v-if on empty list)
   - Use existing site styling patterns:
     - UContainer for layout (matches other pages)
     - Tailwind classes consistent with existing pages (slate/gray theme)
   - Add SEO meta using useSeoMeta() with title "Blog - Fiftymillimeter" and appropriate description

Example structure:
```vue
<script setup lang="ts">
useSeoMeta({
  title: 'Blog - Fiftymillimeter',
  description: 'Photography stories and experiences'
})
</script>

<template>
  <UContainer>
    <h1 class="text-3xl font-bold mb-8">Blog</h1>
    <ContentList path="/blog" v-slot="{ list }">
      <div v-if="list.length === 0" class="text-gray-500">
        Posts coming soon.
      </div>
      <div v-else>
        <!-- Post listing will be implemented in Phase 2 -->
      </div>
    </ContentList>
  </UContainer>
</template>
```

Note: The ContentList component is provided by @nuxt/content and auto-imported. It queries content from the specified path.
  </action>
  <verify>
1. Navigate to http://localhost:3000/blog in browser
2. Confirm page loads with 200 status (check Network tab or curl)
3. Verify page displays "Blog" heading and "Posts coming soon" message
4. Confirm no console errors related to content queries
  </verify>
  <done>
- content/blog/.gitkeep file exists
- app/pages/blog/index.vue file exists with ContentList integration
- Navigating to /blog shows the blog index page
- Page returns 200 status code
  </done>
</task>

</tasks>

<verification>
After both tasks complete, verify phase success criteria:

1. **Nuxt Content installed and configured:**
   - `grep -q "@nuxt/content" package.json && echo "PASS" || echo "FAIL"`
   - `grep -q "@nuxt/content" nuxt.config.ts && echo "PASS" || echo "FAIL"`

2. **Blog route accessible:**
   - `curl -s -o /dev/null -w "%{http_code}" http://localhost:3000/blog` returns 200

3. **Dev server runs without errors:**
   - `bun run dev` starts without Nuxt Content module errors
   - No TypeScript errors in build output
</verification>

<success_criteria>
- @nuxt/content is installed (in package.json)
- @nuxt/content is configured (in nuxt.config.ts modules)
- content/blog/ directory exists
- /blog route returns 200 and displays placeholder content
- Development server runs without errors
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-01-SUMMARY.md`
</output>
